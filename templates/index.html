{% extends "base.html" %}

{% block content %}

<table class="table table-hover">
	<thead>
		<th class="active">No</th>
		<th class="active">描述</th>
		<th class="active">是否完成</th>
		<th class="active">创建时间</th>
	</thead>
	<tbody>
		{% for todo in todo_list %}
		
			<!-- tr -->
			{% if todo['status'] %} <tr class="success">
			{% else %} <tr class="info">{% endif %}
				<td>{{ loop.index }}</td><!--自动添加索引号1 2 3 .... -->
				<td>{{ todo['title'] }}</td>
				<td>{{ todo['status'] }}</td>
				<td>{{ todo['create_time'] }}</td>
				<td>
					{% if todo['status'] %}
						<a href="{{ url_for('delete_todo_list',id=todo['id']) }}" class="btn btn-danger" role ="button">删除</a>
						<!-- 使用url_for拼接URL -->
					{% else %}
						<a href="/modify?id={{ todo['id'] }}" class="btn btn-success" role="button">修改</a>	
					{% endif %}	
				</td>
			</tr>
		 {% endfor %}
		
	</tbody>
</table>

<!-- Button trigger modak -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">ADD</button>
<!-- 按钮触发模态框 -->
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog"><div class="modal-content">
		
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			<h4 class="modal-title" id="myModalLabel" align="center">add new todo list</h4>
			<!-- 模态框（Modal）标题 -->
		</div>
		
		<div class="modal-body"
			<div class="row">
				<div class="col-md-4 col-md-offset-4">
				
					<form class="form-horizontal" action="{{ url_for('show_todo_list') }}" method="POST" >
						<div class="form-group">
							<label class="control-label inline", for='title'>描述</label>
							<input type="text" class="form-control" name="title" id="title">
						</div>
						
						<div class="form-group">
							<label>是否完成</label>
							<label class="radio-inline"><input type="radio" name="status" value="1">是</label>
							<label class="radio-inline"><input type="radio" name="status" value="0">否</label>
						</div>
						
						<button type="submit" class="btn btn-primary">ADD</button>
					</form><!-- end form -->
					
			</div>
		</div>
	</div><!-- modal body -->
	</div></div>
</div>


{% endblock %}


















